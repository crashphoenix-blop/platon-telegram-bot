# –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ –ê–ù–ê–õ–ò–ó–ê–¢–û–†–ê –†–ê–°–•–û–î–ê –¢–û–ü–õ–ò–í–ê

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
```bash
python run_fuel_analysis.py
```

### 3. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
```bash
python demo.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
–ø—Ä–æ–≥–∞/
‚îú‚îÄ‚îÄ fuel_consumption_analyzer.py  # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ run_fuel_analysis.py          # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îú‚îÄ‚îÄ demo.py                       # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ example_usage.py              # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ test_with_real_files.py       # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ config.py                     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ requirements.txt              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README_fuel_analysis.md       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø.md                 # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚îî‚îÄ‚îÄ —Ç–æ–ø–ª–∏–≤–æ/                      # –ü–∞–ø–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
    ‚îú‚îÄ‚îÄ 15.10.2025 11_24_18 –û—Ç—á—ë—Ç –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö.xlsx
    ‚îî‚îÄ‚îÄ –í—Å–µ_–¢–°-–ò–ü_–°–µ—Ä–∫–∏–Ω_9)_–ì—Ä—É–ø–ø–æ–≤–æ–π_–æ—Ç—á–µ—Ç_–ø–æ_–∑–∞–ø—Ä–∞–≤–∫–∞–º_–∏_—Å–ª–∏–≤–∞–º_15.10.2025_12-26-52.xlsx
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∫–∞—Ä—Ç –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–æ–ø–ª–∏–≤–Ω—ã—Ö –∫–∞—Ä—Ç –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π.

### –§–æ—Ä–º–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:
```
–Ω–æ–º–µ—Ä_–∫–∞—Ä—Ç—ã:–Ω–æ–º–µ—Ä_–∞–≤—Ç–æ–º–æ–±–∏–ª—è
```

### –ü—Ä–∏–º–µ—Ä—ã:
```
0249:497
1234:203
5678:585
```

### –ì–¥–µ –≤–∑—è—Ç—å –Ω–æ–º–µ—Ä–∞:
- **–ù–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç**: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã" –≤ —Ñ–∞–π–ª–µ –ö—Ä–∞—Å—Å—É–ª—ã
- **–ù–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π**: –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞" –≤ —Ñ–∞–π–ª–µ –ì–õ–û–ù–ê–°–°

## üìä –§–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –§–∞–π–ª –ö—Ä–∞—Å—Å—É–ª—ã (—Ç–æ–ø–ª–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç—ã)
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏:
- `–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è` - –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã` - –ø–æ–ª–Ω—ã–π –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã
- `–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π` - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∫–∞—Ä—Ç–µ
- `–¢–æ–≤–∞—Ä` - –≤–∏–¥ —Ç–æ–ø–ª–∏–≤–∞ (–î–¢, –±–µ–Ω–∑–∏–Ω –∏ —Ç.–¥.)
- `–ö–æ–ª-–≤–æ –ª–∏—Ç—Ä–æ–≤` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ç—Ä–æ–≤
- `–¶–µ–Ω–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π` - —Ü–µ–Ω–∞ –∑–∞ –ª–∏—Ç—Ä
- `–°—É–º–º–∞ —Å–æ —Å–∫–∏–¥–∫–æ–π` - –æ–±—â–∞—è —Å—É–º–º–∞

### –§–∞–π–ª –ì–õ–û–ù–ê–°–°
–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª–∏—Å—Ç—ã:
- `–ó–∞–ø—Ä–∞–≤–∫–∏ –∏ –∑–∞—Ä—è–¥–∫–∏ –±–∞—Ç–∞—Ä–µ–∏` - –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–ø—Ä–∞–≤–∫–∞—Ö
- `–°–ª–∏–≤—ã` - –¥–∞–Ω–Ω—ã–µ –æ —Å–ª–∏–≤–∞—Ö —Ç–æ–ø–ª–∏–≤–∞

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –≤ –ª–∏—Å—Ç–µ –∑–∞–ø—Ä–∞–≤–æ–∫:
- `–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞` - –º–∞—Ä–∫–∞ –∏ –ì–†–ó –∞–≤—Ç–æ–º–æ–±–∏–ª—è + –¥–∞—Ç—ã
- `–í—Ä–µ–º—è` - –≤—Ä–µ–º—è –∑–∞–ø—Ä–∞–≤–∫–∏
- `–ü—Ä–æ–±–µ–≥` - –ø—Ä–æ–±–µ–≥ –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–ø—Ä–∞–≤–∫–∏
- `–ó–∞–ø—Ä–∞–≤–ª–µ–Ω–æ` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Ç–æ–ø–ª–∏–≤–∞

## üéØ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≥—Ä–∞–º–º–∞ —á–∏—Ç–∞–µ—Ç Excel —Ñ–∞–π–ª—ã
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –Ω–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏ –∫–∞—Ä—Ç
3. **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** - –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–∞–≤–∫–∏
4. **–†–∞—Å—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–∞** - –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞—Å—Ö–æ–¥ –ø–æ —Ñ–æ—Ä–º—É–ª–µ: `(–ª–∏—Ç—Ä—ã / –ø—Ä–æ–±–µ–≥) * 100`
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∞–Ω–æ–º–∞–ª–∏–∏
6. **–û—Ç—á–µ—Ç** - —Å–æ–∑–¥–∞–µ—Ç Excel —Ñ–∞–π–ª —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

## üìà –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Ö–æ–¥–∞

```
–†–∞—Å—Ö–æ–¥ = (–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ç—Ä–æ–≤ / –ü—Ä–æ–±–µ–≥) * 100
```

–ì–¥–µ:
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ç—Ä–æ–≤** - –∏–∑ –¥–∞–Ω–Ω—ã—Ö –ö—Ä–∞—Å—Å—É–ª—ã
- **–ü—Ä–æ–±–µ–≥** - —Ä–∞–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Ç–µ–∫—É—â–∏–º –∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–º –ø—Ä–æ–±–µ–≥–æ–º –∏–∑ –ì–õ–û–ù–ê–°–°

## ‚ö†Ô∏è –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:

- **missing_glonass** - –∑–∞–ø—Ä–∞–≤–∫–∏ –Ω–∞–π–¥–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –ö—Ä–∞—Å—Å—É–ª–µ
- **missing_krassula** - –∑–∞–ø—Ä–∞–≤–∫–∏ –Ω–∞–π–¥–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –ì–õ–û–ù–ê–°–°
- **drain_detected** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Å–ª–∏–≤—ã —Ç–æ–ø–ª–∏–≤–∞
- **anomaly** - –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞

Excel —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏—Å—Ç—ã:

1. **–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –≤—Å–µ –∑–∞–ø—Ä–∞–≤–∫–∏ —Å —Ä–∞—Å—á–µ—Ç–∞–º–∏
2. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –∏ –∞–Ω–æ–º–∞–ª–∏–π
3. **–°–ª–∏–≤—ã** - –¥–∞–Ω–Ω—ã–µ –æ —Å–ª–∏–≤–∞—Ö —Ç–æ–ø–ª–∏–≤–∞

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `config.py`:

```python
MATCHING_SETTINGS = {
    'max_time_diff_hours': 2,        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É –∑–∞–ø—Ä–∞–≤–∫–∞–º–∏
    'max_liters_diff_percent': 10,   # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –ª–∏—Ç—Ä–∞—Ö
    'min_distance_km': 10            # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–±–µ–≥ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
}
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–ª–æ–Ω–∫–∏"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ –≤ Excel —Ñ–∞–π–ª–∞—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω—ã

### –û—à–∏–±–∫–∞ "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å .xlsx –∏–ª–∏ .xls)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã –≤ Excel

### –ù–∏–∑–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞—Ä—Ç –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞—Ç—ã –≤ —Ñ–∞–π–ª–∞—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Ä–µ–º–µ–Ω–∏ –∏ –ª–∏—Ç—Ä–æ–≤

### –û—à–∏–±–∫–∞ "Unable to parse datetime"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç –≤ —Ñ–∞–π–ª–∞—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ø—É—Å—Ç—ã—Ö —è—á–µ–µ–∫ –≤ –∫–æ–ª–æ–Ω–∫–∞—Ö –¥–∞—Ç

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª–µ `fuel_analysis.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```python
from fuel_consumption_analyzer import FuelConsumptionAnalyzer

analyzer = FuelConsumptionAnalyzer()
analyzer.load_krassula_data("–∫—Ä–∞—Å—Å—É–ª–∞.xlsx")
analyzer.load_glonass_data("–≥–ª–æ–Ω–∞—Å—Å.xlsx")
analyzer.load_card_mapping({"0249": "497"})
analyzer.match_refuels()
analyzer.calculate_fuel_consumption()
analyzer.generate_excel_report("–æ—Ç—á–µ—Ç.xlsx")
```

### –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```python
from fuel_consumption_analyzer import FuelConsumptionAnalyzer
import config

analyzer = FuelConsumptionAnalyzer()
# ... –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö ...
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ config.py
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–ø–ª–∏–≤–∞.
